[common]

[env:pico]
platform = https://github.com/maxgerhardt/platform-raspberrypi.git
board = rpipicow
framework = arduino
board_build.core = earlephilhower
upload_protocol = cmsis-dap
debug_tool = cmsis-dap
lib_ldf_mode = chain+
build_flags = 
	-DPIO_FRAMEWORK_ARDUINO_ENABLE_RTTI
	-fstack-protector
	-std=c++20
	-DconfigUSE_CORE_AFFINITY=1
	-DconfigTIMER_SERVICE_TASK_CORE_AFFINITY=0b1
	-DconfigUSE_TIMERS=1
	-DINTERRUPT_SECOND=0
	-DMQTT_HOST="${sysenv.HOMEASSISTANT_MQTT_HOST}"
	-DMQTT_USER="${sysenv.HOMEASSISTANT_MQTT_USERNAME}"
	-DMQTT_PASSWORD="${sysenv.HOMEASSISTANT_MQTT_PASSWORD}"
	-DWIFI_SSID="${sysenv.UCONTROLLER_WIFI_SSID}"
	-DWIFI_PASSWORD="${sysenv.UCONTROLLER_WIFI_PASSWORD}"
lib_deps = 
	knolleary/PubSubClient@^2.8
	dawidchyrzynski/home-assistant-integration@^2.1.0
	FreeRTOS
	SPI
	WiFi